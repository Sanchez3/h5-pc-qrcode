{"version":3,"sources":["webpack:///./src/assets/js/main.js"],"names":["__webpack_require__","r","__webpack_exports__","QRCode","window","h5","isPc","userAgentInfo","navigator","userAgent","Agents","Array","flag","v","length","indexOf","initQrCode","qrUrl","location","href","qrcodeElement","document","getElementById","text","width","height","colorDark","colorLight","correctLevel","CorrectLevel","H","setElementPosition","el","x","y","w","h","bgWidth","bgHeight","wWidth","documentElement","clientWidth","innerWidth","wHeight","clientHeight","innerHeight","scale","style","left","top","transform","rootResize","wFsize","getElementsByTagName","fontSize","this","eventInit","addEventListener","e","passive","preventDefault","cssInit","that","interval","timeout","end","lastInnerWidth","lastInnerHeight","noChangeCount","clearInterval","clearTimeout","setInterval","setTimeout","init","onload"],"mappings":"kHAAAA,EAAAC,EAAAC,GAAAF,EAAA,YAOAG,EAAaH,EAAQ,QAErBI,OAAAC,IACAC,KAAA,WAIA,IAHA,IAAAC,EAAAC,UAAAC,UACAC,EAAA,IAAAC,MAAA,8DACAC,EAAA,KACAC,EAAA,EAAuBA,EAAAH,EAAAI,OAAmBD,IAC1C,GAAAN,EAAAQ,QAAAL,EAAAG,IAAA,GAAuDD,EAAA,MAAc,MAErE,OAAAA,GAEAI,WAAA,WACA,IAEAC,EAAAb,OAAAc,SAAAC,KACAC,EAAAC,SAAAC,eAAA,UACA,IAAAnB,EAAAiB,GACAG,KAAAN,EACAO,MANA,IAOAC,OANA,IAOAC,UAAA,UACAC,WAAA,UACAC,aAAAzB,EAAA0B,aAAAC,KAIAC,mBAAA,SAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,EAAAC,GACA,IAAAC,EAAAlB,SAAAmB,gBAAAC,aAAArC,OAAAsC,WACAC,EAAAtB,SAAAmB,gBAAAI,cAAAxC,OAAAyC,YAEAC,EAAAT,EAAAE,EAAAD,EAAAK,EAAAN,EAAAE,EAAAD,EAAAK,EACAX,EAAAe,MAAAC,MAAAT,EAAAF,EAAAS,GAAA,EAAAb,EAAAa,EAAA,KACAd,EAAAe,MAAAE,KAAAN,EAAAL,EAAAQ,GAAA,EAAAZ,EAAAY,EAAA,KACAd,EAAAe,MAAAG,mBAAsC,EAAAJ,MAEtCK,WAAA,WACA,IAEAC,EAEAb,EAAAlB,SAAAmB,gBAAAC,aAAArC,OAAAsC,WACAC,EAAAtB,SAAAmB,gBAAAI,cAAAxC,OAAAyC,YAGAO,EADAb,EAAAI,EACAA,EAAA,QAEAJ,EAAA,QAEAlB,SAAAgC,qBAAA,WAAAN,MAAAO,SAAAF,EAAA,KAZAG,KAiBAxB,mBAAAV,SAAAC,eAAA,sCAEAkC,UAAA,WAMA,OAJAnC,SAAAoC,iBAAA,sBAAAC,MAAiEC,QAAA,QACjEtC,SAAAoC,iBAAA,qBAAAC,GACAA,EAAAE,mBACYD,QAAA,QAJZJ,MAOAM,QAAA,WACA,IAAAC,EAAAP,KAwCA,OArCAO,EAAAX,aACAW,EAAA9C,aACAZ,OAAAqD,iBAAA,wBAAArD,OAAA,wCACA,IAAA2D,EACAC,EACAC,EACAC,EACAC,EACAC,EACAH,EAAA,WAEAI,cAAAN,GACAO,aAAAN,GACAD,EAAA,KACAC,EAAA,KACAF,EAAAX,cAEAY,EAAAQ,YAAA,WACAnE,OAAAsC,aAAAwB,GAAA9D,OAAAyC,cAAAsB,EApBA,QAqBAC,GAIAH,KAGAC,EAAA9D,OAAAsC,WACAyB,EAAA/D,OAAAyC,YACAuB,EAAA,KAGAJ,EAAAQ,WAAA,WAEAP,KAlCA,OAsCAH,GAEAW,KAAA,WACAlB,KACAM,UAAAL,cAIApD,OAAAsE,OAAA,WACAtE,OAAAC,GAAAoE","file":"assets/js/main.c3b95fa50e0f0cebbdfe.js","sourcesContent":["/**\n * Created by sanchez \n */\n'use strict';\n\n\nimport css from '../css/css.css';\nvar QRCode = require('qrcodejs2');\n// import QRCode from 'qrcodejs2';\nwindow.h5 = {\n    isPc: function() {\n        var userAgentInfo = navigator.userAgent;\n        var Agents = new Array('Android', 'iPhone', 'SymbianOS', 'Windows Phone', 'iPad', 'iPod');\n        var flag = true;\n        for (var v = 0; v < Agents.length; v++) {\n            if (userAgentInfo.indexOf(Agents[v]) > 0) { flag = false; break; }\n        }\n        return flag;\n    },\n    initQrCode: function() {\n        var qrWidth = 200;\n        var qrHeight = 200;\n        var qrUrl = window.location.href;\n        var qrcodeElement = document.getElementById('qrcode');\n        var qrcode = new QRCode(qrcodeElement, {\n            text: qrUrl,\n            width: qrWidth,\n            height: qrHeight,\n            colorDark: \"#000000\",\n            colorLight: \"#ffffff\",\n            correctLevel: QRCode.CorrectLevel.H\n        });\n\n    },\n    setElementPosition: function(el, x, y, w, h, bgWidth, bgHeight) {\n        var wWidth = document.documentElement.clientWidth || window.innerWidth;\n        var wHeight = document.documentElement.clientHeight || window.innerHeight;\n\n        var scale = (bgWidth / wWidth > bgHeight / wHeight) ? bgWidth / wWidth : bgHeight / wHeight;\n        el.style.left = (wWidth - bgWidth / scale) / 2 + x / scale + 'px';\n        el.style.top = (wHeight - bgHeight / scale) / 2 + y / scale + 'px';\n        el.style.transform = `scale(${1/scale})`;\n    },\n    rootResize: function() {\n        var that = this;\n        //orientation portrait width=750px height=1334px / WeChat width=750px height=1206px \n        var wFsize;\n\n        var wWidth = document.documentElement.clientWidth || window.innerWidth;\n        var wHeight = document.documentElement.clientHeight || window.innerHeight;\n\n        if (wWidth > wHeight) {\n            wFsize = wHeight / 750 * 100;\n        } else {\n            wFsize = wWidth / 750 * 100;\n        }\n        document.getElementsByTagName('html')[0].style.fontSize = wFsize + 'px';\n\n        //when background-size:contain object-fit:contain, how to locate the element\n        //eg. bg W:1920px H:1080px   \n        //element: qrcode X:990px Y:334px W:200px H:200px\n        that.setElementPosition(document.getElementById('qrcode'), 990, 334, 200, 200, 1920, 1080);\n    },\n    eventInit: function() {\n        var that = this;\n        document.addEventListener('touchstart', function(e) {}, { passive: false });\n        document.addEventListener('touchmove', function(e) {\n            e.preventDefault();\n        }, { passive: false });\n        return that;\n    },\n    cssInit: function() {\n        var that = this;\n        var noChangeCountToEnd = 100,\n            noEndTimeout = 1000;\n        that.rootResize();\n        that.initQrCode();\n        window.addEventListener('onorientationchange' in window ? 'orientationchange' : 'resize', function() {\n            var interval,\n                timeout,\n                end,\n                lastInnerWidth,\n                lastInnerHeight,\n                noChangeCount;\n            end = function() {\n                // \"orientationchangeend\"\n                clearInterval(interval);\n                clearTimeout(timeout);\n                interval = null;\n                timeout = null;\n                that.rootResize();\n            };\n            interval = setInterval(function() {\n                if (window.innerWidth === lastInnerWidth && window.innerHeight === lastInnerHeight) {\n                    noChangeCount++;\n                    if (noChangeCount === noChangeCountToEnd) {\n                        // The interval resolved the issue first.\n\n                        end();\n                    }\n                } else {\n                    lastInnerWidth = window.innerWidth;\n                    lastInnerHeight = window.innerHeight;\n                    noChangeCount = 0;\n                }\n            });\n            timeout = setTimeout(function() {\n                // The timeout happened first.\n                end();\n            }, noEndTimeout);\n        });\n\n        return that;\n    },\n    init: function() {\n        var that = this;\n        that.cssInit().eventInit();\n\n    }\n};\nwindow.onload = function() {\n    window.h5.init();\n};"],"sourceRoot":""}